<!DOCTYPE html>
<html lang="en">
<head>
    <!-- ============================================= -->
    <!-- META TAGS & SEO -->
    <!-- ============================================= -->
    {% load static %}
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Savory Heaven - Premium dining experience with exquisite cuisine and elegant atmosphere">
    <meta name="keywords" content="restaurant, fine dining, reservations, gourmet food, Savory Heaven">
    <meta name="author" content="Savory Heaven">
    <meta property="og:title" content="Savory Heaven | {% block title %}{% endblock %}">
    <meta property="og:description" content="Premium dining experience with exquisite cuisine">
    <meta property="og:type" content="website">
    <meta property="og:url" content="{{ request.build_absolute_uri }}">
    <meta property="og:image" content="{% static 'images/logo.png' %}">
    
    <title>Savory Heaven</title>
    
    <!-- Favicon -->
    <link rel="icon" href="{% static 'images/favicon.ico' %}" type="image/x-icon">
    
    <!-- ============================================= -->
    <!-- CSS & FONTS -->
    <!-- ============================================= -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&display=swap">
    <link rel="stylesheet" href="{% static 'css/base.css' %}">
</head>

<body>
<!-- ============================================= -->
<!-- NAVIGATION -->
<!-- ============================================= -->
<nav class="navbar shadow-sm" aria-label="Main navigation">
    <div class="container">
        <!-- Animated Food Burger Menu (mobile) -->
        <button class="navbar-toggler" type="button" data-bs-toggle="offcanvas" 
                data-bs-target="#mobileMenu" aria-controls="mobileMenu" aria-label="Toggle navigation">
            <div class="food-burger-icon">
                <div class="bun-top"></div>
                <div class="patty"></div>
                <div class="bun-bottom"></div>
            </div>
        </button>

        <!-- Left navigation (desktop) -->
        <div class="navbar-nav-left d-none d-md-flex">
            <ul class="navbar-nav">
                <li class="nav-item"><a class="nav-link" href="#" aria-label="About us">About</a></li>
                <li class="nav-item"><a class="nav-link" href="#" aria-label="View our menu">Menu</a></li>
            </ul>
        </div>

        <!-- Logo -->
        <div class="navbar-nav-center">
            <a class="navbar-brand" href="{% url 'home' %}" aria-label="Savory Heaven home">
                <img src="{% static 'images/logo.png' %}" alt="Savory Heaven Restaurant Logo" >
            </a>
        </div>

        <!-- Right navigation (desktop) -->
        <div class="navbar-nav-right d-none d-md-flex">
            <ul class="navbar-nav">
                <li class="nav-item"><a class="nav-link" href="{% url 'my_reservations' %}" aria-label="Make a reservation">Reservations</a></li>
                <li class="nav-item"><a class="nav-link" href="#" aria-label="Contact us">Contact</a></li>
            </ul>
        </div>
        

    </div>
    <!-- Auth Buttons (positioned independently) -->
        <div class="auth-buttons d-none d-md-flex">
            {% if user.is_authenticated %}
                <form method="post" action="{% url 'account_logout' %}">
                    {% csrf_token %}
                    <button type="submit" class="btn-auth" aria-label="Logout">Logout</button>
                </form>
            {% else %}
                <a href="{% url 'account_login' %}" class="btn-auth btn-auth-outline" aria-label="Login">Login</a>
                <a href="{% url 'account_signup' %}" class="btn-auth" aria-label="Sign up">Sign Up</a>
            {% endif %}
        </div>
    </nav>

    <!-- ============================================= -->
    <!-- MOBILE MENU (OFFCANVAS) -->
    <!-- ============================================= -->
    <div class="offcanvas offcanvas-start" tabindex="-1" id="mobileMenu" aria-labelledby="mobileMenuLabel">
        <div class="offcanvas-header">
            <h2 class="offcanvas-title" id="mobileMenuLabel">Savory Heaven</h2>
            <button type="button" class="btn-close btn-close-white" data-bs-dismiss="offcanvas" aria-label="Close menu"></button>
        </div>
        <div class="offcanvas-body">
            <nav class="mobile-nav">
                <ul class="navbar-nav">
                    <li class="nav-item"><a class="nav-link" href="#" aria-label="About us">About</a></li>
                    <li class="nav-item"><a class="nav-link" href="#" aria-label="View our menu">Menu</a></li>
                    <li class="nav-item"><a class="nav-link" href="{% url 'my_reservations' %}" aria-label="Make a reservation">Reservations</a></li>
                    <li class="nav-item"><a class="nav-link" href="#" aria-label="Contact us">Contact</a></li>
                </ul>
            </nav>
            <div class="mobile-auth-buttons">
                {% if user.is_authenticated %}
                    <form method="post" action="{% url 'account_logout' %}">
                        {% csrf_token %}
                        <button type="submit" class="btn-auth" aria-label="Logout">Logout</button>
                    </form>
                {% else %}
                    <a href="{% url 'account_login' %}" class="btn-auth btn-auth-outline" aria-label="Login">Login</a>
                    <a href="{% url 'account_signup' %}" class="btn-auth" aria-label="Sign Up">Sign Up</a>
                {% endif %}
            </div>
        </div>
    </div>

    <!-- ============================================= -->
    <!-- MAIN CONTENT -->
    <!-- ============================================= -->
    <main class="page-container">
        {% block content %}
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-lg-8 text-center">
                    <h1 style="font-family: 'Playfair Display', serif; font-size: 3rem; color: var(--gold); margin-bottom: 2rem;">Welcome to Savory Heaven</h1>
                    <p style="font-size: 1.3rem; line-height: 1.8; color: var(--cream);">Experience culinary excellence in our elegant dining atmosphere. Reserve your table today and embark on a journey of exquisite flavors.</p>
                </div>
            </div>
        </div>
        {% endblock %}
    </main>

    <!-- ============================================= -->
    <!-- FOOTER -->
    <!-- ============================================= -->
    <footer class="py-5 mt-5" aria-label="Footer">
        <div class="container">
            <div class="row text-center text-lg-start">
                <!-- Hours -->
                <div class="col-lg-4 mb-4">
                    <h3>Hours</h3>
                    <p>Mon-Fri: 9am - 10pm<br>Sat-Sun: 10am - 8pm</p>
                </div>
                
                <!-- Social Media -->
                <div class="col-lg-4 mb-4">
                    <h3>Follow Us</h3>
                    <div>
                        <a href="#" class="me-3" aria-label="Instagram"><i class="bi bi-instagram fs-4"></i></a>
                        <a href="#" class="me-3" aria-label="Facebook"><i class="bi bi-facebook fs-4"></i></a>
                        <a href="#" aria-label="Twitter"><i class="bi bi-twitter fs-4"></i></a>
                    </div>
                </div>
                
                <!-- Location -->
                <div class="col-lg-4 mb-4">
                    <h3>Location</h3>
                    <address>
                        123 Gourmet Street<br>
                        Foodville, FK 12345<br>
                        <a href="tel:+1234567890" aria-label="Call us">(123) 456-7890</a>
                    </address>
                </div>
            </div>
        </div>
    </footer>

    <!-- ============================================= -->
    <!-- SCRIPTS -->
    <!-- ============================================= -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Sticky navbar on scroll with smooth transitions
        const navbar = document.querySelector('.navbar');
        let scrollTimeout;
        
        window.addEventListener('scroll', () => {
            clearTimeout(scrollTimeout);
            
            if (window.scrollY > 60) {
                navbar.classList.add('scrolled');
            } else {
                navbar.classList.remove('scrolled');
            }
            
            // Add subtle scroll effect
            scrollTimeout = setTimeout(() => {
                navbar.style.transform = 'translateY(0)';
            }, 150);
        });

        // Enhanced mobile menu interactions
        const mobileMenu = document.getElementById('mobileMenu');
        const navToggler = document.querySelector('.navbar-toggler');

        if (mobileMenu && navToggler) {
            mobileMenu.addEventListener('show.bs.offcanvas', () => {
                navToggler.setAttribute('aria-expanded', 'true');
                document.body.style.overflow = 'hidden';
                document.documentElement.style.overflow = 'hidden'; // Add this for better browser support
            });
    
            mobileMenu.addEventListener('hide.bs.offcanvas', () => {
                navToggler.setAttribute('aria-expanded', 'false');
                document.body.style.overflow = 'auto';
                document.documentElement.style.overflow = 'auto'; // Add this for better browser support
            });
    
            // Additional fix: Handle backdrop click
            mobileMenu.addEventListener('hidden.bs.offcanvas', () => {
                document.body.style.overflow = 'auto';
                document.documentElement.style.overflow = 'auto';
            });
        }

        // Add subtle animations to nav links
        document.querySelectorAll('.nav-link').forEach(link => {
            link.addEventListener('mouseenter', function() {
                this.style.transform = 'translateY(-2px)';
            });
            
            link.addEventListener('mouseleave', function() {
                this.style.transform = 'translateY(0)';
            });
        });

        // Food burger icon extra animations on hover
        const burgerIcon = document.querySelector('.food-burger-icon');
        if (navToggler && burgerIcon) {
            navToggler.addEventListener('mouseenter', () => {
                burgerIcon.style.transform = 'scale(1.1) rotate(2deg)';
            });
            
            navToggler.addEventListener('mouseleave', () => {
                burgerIcon.style.transform = 'scale(1) rotate(0deg)';
            });
        }

        // Add ripple effect to buttons
        document.querySelectorAll('.btn-auth').forEach(button => {
            button.addEventListener('click', function(e) {
                const ripple = document.createElement('span');
                ripple.style.position = 'absolute';
                ripple.style.borderRadius = '50%';
                ripple.style.background = 'rgba(255,255,255,0.5)';
                ripple.style.transform = 'scale(0)';
                ripple.style.animation = 'ripple 0.6s linear';
                ripple.style.left = (e.clientX - e.target.offsetLeft) + 'px';
                ripple.style.top = (e.clientY - e.target.offsetTop) + 'px';
                ripple.style.width = ripple.style.height = '20px';
                
                this.style.position = 'relative';
                this.appendChild(ripple);
                
                setTimeout(() => {
                    ripple.remove();
                }, 600);
            });
        });

        // Add CSS animation for ripple effect
        const style = document.createElement('style');
        style.textContent = `
            @keyframes ripple {
                to {
                    transform: scale(4);
                    opacity: 0;
                }
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>